(function(n){n.fn.qubit=function(n){return this.each(function(){new t(this,n)})};var t=function(t){var r=this,i;this.scope=n(t);i=function(n){r.suspendListeners||r.process(n.target)};this.scope.on("change","input[type=checkbox]",i);if(document.documentMode&&document.documentMode<=9)this.scope.on("click","input[type=checkbox]:indeterminate",i);this.processParents()};t.prototype={itemSelector:"li",process:function(t){t=n(t);var i=t.parentsUntil(this.scope,this.itemSelector),r=this;try{this.suspendListeners=!0;i.eq(0).find("input[type=checkbox]").not(":disabled").filter(t.prop("checked")?":not(:checked)":":checked").each(function(){n(this).parent().hasClass("hidden")||r.setChecked(n(this),t.prop("checked"))}).trigger("change");this.processParents()}finally{this.suspendListeners=!1}},processParents:function(){var t=this,i=!1;this.scope.find("input[type=checkbox]").not(":disabled").each(function(){var r=n(this),e=r.closest(t.itemSelector),u=e.find("input[type=checkbox]").not(":disabled").not(r),f=u.filter(function(){return n(this).prop("checked")||n(this).prop("indeterminate")}).length;u.length?f===0?t.setChecked(r,!1)&&(i=!0):f==u.length?t.setChecked(r,!0)&&(i=!0):t.setIndeterminate(r,!0)&&(i=!0):t.setIndeterminate(r,!1)&&(i=!0)});i&&this.processParents()},setChecked:function(n,t){var i=!1;return n.prop("indeterminate")&&(n.prop("indeterminate",!1),i=!0),n.prop("checked")!=t&&(n.prop("checked",t).trigger("change"),i=!0),i},setIndeterminate:function(n,t){return t&&n.prop("checked",!1),n.prop("indeterminate")!=t?(n.prop("indeterminate",t),!0):void 0}}})(jQuery);